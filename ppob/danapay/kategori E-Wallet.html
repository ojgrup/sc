<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ketegori E-Wallet</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cardo:ital,wght@0,400;0,700;1,400&family=Courgette&family=Honk&family=Pacifico&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Rubik+Doodle+Shadow&family=Viga&display=swap" rel="stylesheet">
  <style>
      
      /* Mengganti warna primary menjadi biru DANA */
      :root {
          --my-color: #0073B4; /* Biru khas DANA */
      }
      
      header {
          background: var(--my-color);
          padding: 15px 0;
          height: 65px;
          /* Dana tidak memiliki border-radius di header, jadi dihilangkan */
          border-radius: 0; 
      }
      
      body {
          font-family: "Poppins", sans-serif;
          background: #fff;
      }
      
      .container {
        position: relative;
      }

      .fa-angle-right {
        margin-left: auto; /* Menggeser ikon ke kanan setiap container */
      } 

      .gx-search {
          border: 1px solid #ddd; /* Lebih halus dari sebelumnya */
      }

      .gx-search:focus {
          border: 2px solid var(--my-color);
          box-shadow: none;
      }

      /* Fade */
      .gx-kategori-e-wallet {
        vertical-align: middle;
        -webkit-transform: perspective(1px) translateZ(0);
        transform: perspective(1px) translateZ(0);
        box-shadow: 0 0 1px rgba(0, 0, 0, 0);
        overflow: hidden;
        background: #fff;
        -webkit-transition-duration: 0.3s;
        transition-duration: 0.3s;
        -webkit-transition-property: color, background-color;
        transition-property: color, 
      }
      .gx-kategori-e-wallet:hover, .gx-kategori-e-wallet:focus, .gx-kategori-e-wallet:active {
        /* Warna hover/active yang lebih soft, mirip efek sentuhan aplikasi */
        background-color: #f5f5f5; 
        color: #000000;
      }

      .hidden {
          display: none;
      }

      .visible {
            display: block;
          }
          
      .notification {
        /* Mengganti warna notifikasi agar sesuai dengan tema, tapi tetap mencolok (bisa pakai warna merah yang sama) */
        background-color: #f44336; 
        color: white;
        padding: 10px;
        margin-top: 10px;  
      }
      
      .scale-in-center {
          -webkit-animation: scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
                  animation: scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
      }

      /* ----------------------------------------------
      * Generated by Animista on 2024-3-28 15:48:12
      * Licensed under FreeBSD License.
      * See http://animista.net/license for more info. 
      * w: http://animista.net, t: @cssanimista
      * ---------------------------------------------- */

      /**
      * ----------------------------------------
      * animation scale-in-center
      * ----------------------------------------
      */
      @-webkit-keyframes scale-in-center {
        0% {
          -webkit-transform: scale(0);
                  transform: scale(0);
          opacity: 1;
        }
        100% {
          -webkit-transform: scale(1);
                  transform: scale(1);
          opacity: 1;
        }
      }
      @keyframes scale-in-center {
        0% {
          -webkit-transform: scale(0);
                  transform: scale(0);
          opacity: 1;
        }
        100% {
          -webkit-transform: scale(1);
                  transform: scale(1);
          opacity: 1;
        }
      }

  </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="mb-3 mt-1">
                <div class="search-container shadow p-3 rounded bg-white" id="searchContainer">
  <input type="text" class="form-control gx-search" id="exampleFormControlInput1" placeholder="Search E-Wallet..." oninput="searchProducts()" style="padding-right:35px;">
  <i class="fas fa-search position-absolute end-0" id="searchButton" style="top:12px;margin-top:15px;margin-right:45px; color: var(--my-color);"></i> <i class="fas fa-xmark position-absolute end-0 close-icon hidden" id="clearButton" style="top:12px;margin-top:15px;margin-right:45px; color: var(--my-color);" onclick="closeSearch()"></i> </div>
</div>
        </div>
    </header>
  <div class="container">
    <div id="gx-kategori-e-wallet" style="margin-top:75px;"></div>
    <div class="notification rounded-1 hidden" id="notification" style="margin-top:-30px;">No kategori found.</div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
     $(document).ready(function(){
  const apiUrl = 'https://openapi.bukaolshop.net/v1/app/kostumpage';
  const token = 'eyJhcHAiOiIxNjM5MjMiLCJhdXRoIjoiMjAyNDA5MjkiLCJzaWduIjoiUlVYWkxVZU9kTEdYT2p2Q2U2ZDFKQT09In0=';

  $.ajax({
    url: `${apiUrl}?token=${token}`,
    type: 'GET',
    success: function(response) {
      const data = response.data;
      const gxkategori = $('#gx-kategori-e-wallet');
      data.forEach(item => {
        if (item.nama_page.includes('Gx-E-Wallet')) {
          // Mengambil nama setelah "Pulsa"
          const namaSetelahPulsa = item.nama_page.split('Gx-E-Wallet ')[1];
          gxkategori.append(`
              <div class="gx-kategori-e-wallet-openapi">
    <div class="gx-test scale-in-center">
        <div class="mb-3" onclick="redirectToPage('${item.url_kostum_page}')">
            <div class="gx-kategori-e-wallet shadow p-3 mb-5 rounded" style="margin-top:-30px;">
                <div class="gx-test d-flex">
                    <img src="${item.icon_page}" class="rounded-1" alt="${item.nama_page}" style="width:45px;height:45px;">
                    <div class="card-body d-flex justify-content-between align-items-center w-100">
                        <h5 class="card-title mb-0" style="font-size:15px;margin-left:9px;">${namaSetelahPulsa}</h5>
                        <i class="fa-solid fa-angle-right" style="color: #666;"></i> </div>
                </div>
            </div>
        </div>
    </div>
    </div>
`);
        }
      });
    },
    error: function(xhr, status, error) {
      console.error('Error:', error);
    }
  });
});

function redirectToPage(url) {
  window.location.href = url;
}

  </script>
  <script>
      function toggleSearch() {
  var searchContainer = document.getElementById("searchContainer");
  searchContainer.style.display = "block";    
}

function closeSearch() {
  var searchTerm = document.getElementById("exampleFormControlInput1").value.trim();
  var searchButton = document.getElementById("searchButton");
  var closeButton = document.getElementById("clearButton");
  var products = document.querySelectorAll(".gx-kategori-e-wallet-openapi");
  
  if (searchTerm === "") {
    closeButton.classList.remove("visible");
    searchButton.classList.add("visible");
  } else {
    closeButton.classList.add("visible");
    searchButton.classList.remove("visible");
  }
  
  searchButton.classList.add("visible"); // Show searchButton
  closeButton.classList.remove("visible"); // Hide closeButton      
   document.getElementById("exampleFormControlInput1").value = "";
  document.getElementById("notification").classList.add("hidden");
  
  // Show all .gx-transaksi elements
  products.forEach(function(product) {
    product.classList.remove("hidden");
  });
}

function searchProducts() {
  var searchTerm = document.getElementById("exampleFormControlInput1").value.toLowerCase();
  var products = document.querySelectorAll(".gx-kategori-e-wallet-openapi");
  var closeButton = document.getElementById("clearButton");
  var searchButton = document.getElementById("searchButton");
  var found = false;

  products.forEach(function(product) {
    var productName = product.textContent.toLowerCase();
    if (productName.includes(searchTerm)) {
      found = true;
      product.classList.remove("hidden");
    } else {
      product.classList.add("hidden");
    }
  });

  var notification = document.getElementById("notification");
    
  if (!found) {
    notification.classList.remove("hidden");
  } else {
    notification.classList.add("hidden");
  }
  
  if (searchTerm === "") {
    closeButton.classList.remove("visible");
    searchButton.classList.add("visible");
  } else {
    closeButton.classList.add("visible");
    searchButton.classList.remove("visible");
  }
  
  // Hide search button if search term is not empty
  if (searchTerm !== "") {
    searchButton.classList.add("hidden");
  }
}

  </script>
</body>
</html>
